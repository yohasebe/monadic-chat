app "ResearchAssistantGemini" do
  icon ResearchAssistant::ICON
  description ResearchAssistant::DESCRIPTION
  system_prompt ResearchAssistant::INITIAL_PROMPT

  llm do
    provider "gemini"
    model "gemini-2.5-flash-preview-05-20"
  end

  display_name "Research Assistant"

  features do
    disabled !CONFIG["GEMINI_API_KEY"] || !CONFIG["TAVILY_API_KEY"]
    websearch true
    temperature 0.0
    easy_submit false
    auto_speech false
    mathjax true
    image true
    toggle true
  end

  include_modules "WebSearchAgent"
  
  tools do
    # Auto-generated tool definitions from Ruby implementation
    define_tool "websearch_agent", "Websearch Agent" do
      parameter :query, "string", "The query", required: true
    end

    define_tool "tavily_search", "Tavily Search" do
      parameter :query, "string", "The query", required: true
      parameter :n, "integer", "The n"
    end
  end
end
