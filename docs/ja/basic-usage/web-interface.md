# Monadic Chat Web インターフェース

<!-- SCREENSHOT: Monadic Chat Webインターフェースのメイン画面 - チャット履歴、メッセージ入力エリア、設定パネルが表示されている様子 -->

Monadic ChatのWebインターフェースは、チャット履歴の表示エリア、メッセージ入力エリア、各種設定パネルで構成されています。

## ブラウザモード :id=browser-modes

Monadic Chatは2つの異なるブラウザモードでWebインターフェースにアクセスすることができます：

### 内部ブラウザモード :id=internal-browser-mode

内部ブラウザモードは、Electronデスクトップアプリケーション内で動作し、Monadic Chat専用の機能を提供します。

内部ブラウザモードで実行すると、右下に5つのボタンが表示されます：
- **ズームイン**：ページを拡大
- **ズームアウト**：ページを縮小
- **ズームリセット**：ページのズームをデフォルトに戻す
- **リセット（Reset All）**：保存されたすべてのデータ（localStorage、Cookie、キャッシュなど）を含めてアプリケーションを完全にリセットし、初期のアプリ選択に戻ります。Monadic Chatを起動したばかりのまっさらな状態になります。
- **Monadic Chatコンソール**：メインコンソールウィンドウを表示

### 外部ブラウザモード :id=external-browser-mode

外部ブラウザモードでは、Monadic ChatはデフォルトのWebブラウザを起動し、ローカルサーバー (`http://localhost:4567`) に接続します。

## アプリケーションモード :id=application-modes

**スタンドアロンモード（デフォルト）**<br />
個人使用のため単一デバイスでローカルに実行します。

**サーバーモード**<br />
ローカルネットワーク上の複数デバイスから同じMonadic Chatインスタンスに接続できます。インターフェースは異なる画面サイズに適応します。セキュリティ上の理由から、Jupyter Notebook機能はデフォルトで無効化されます。

アプリケーションモードはコンソール設定パネルで設定できます。

## 言語設定 :id=language-settings

インターフェースは58の言語をサポートしています。Infoパネルのドロップダウンから希望の言語を選択すると、音声認識、音声合成、AI応答言語が設定されます。アラビア語、ヘブライ語、ペルシャ語、ウルドゥー語では右から左（RTL）のテキスト表示が自動的に適用されます。

会話中でもいつでも言語を変更できます。言語設定はCookieに保存され、次回の起動時に復元されます。

## システム設定画面 :id=system-settings-screen

<!-- SCREENSHOT: システム設定画面 - Base App選択、Model選択、各種パラメータ設定、チェックボックスオプション、Start Session/Continue Sessionボタンが表示されている様子 -->

システム設定画面では、使用するアプリケーションとモデルを選択し、各種パラメータを調整できます。

**Base App** <br />
基本アプリの中から1つを選択します。各アプリでは異なるデフォルトパラメータと初期プロンプトが設定されています。詳細は[Base Apps](./basic-apps.md)を参照してください。

**Model** <br />
使用するAIモデルを選択します。使用可能なモデルは選択中のアプリによって異なります。

**推論/思考コントロール** <br />
高度な思考をサポートするモデルの推論深度を調整します。セレクターは各プロバイダーの用語に適応します（OpenAI: Reasoning Effort、Anthropic: Thinking Level、Google: Thinking Mode、xAI: Reasoning Effort、DeepSeek: Reasoning Mode、Perplexity: Research Depth）。

**Max Output Tokens** <br />
APIレスポンスの最大トークン数を制限します。

**Max Context Size** <br />
会話コンテキストに保持する最大メッセージ数です。

**Parameters**<br />
Temperature、Top P、Presence Penalty、Frequency Penalty

**Show Initial Prompt**<br />
AIに送信するシステムプロンプトを表示または編集します。

**Show Initial Prompt for AI-User**<br />
AIユーザー機能のシステムプロンプトを表示または編集します。

**Prompt Caching**<br />
プロンプトキャッシングを有効にしてAPIコストを削減し、レスポンス時間を向上させます。

**Math Rendering**<br />
MathJaxを使用して数式をレンダリングします。

**AI User Provider**<br />
AIユーザー機能のプロバイダーを選択します。この機能は人間のユーザーが書いたかのような後続メッセージを自動生成します。

**Start from assistant**<br />
会話を始める時にアシスタント側が最初のメッセージを発します。

**Chat Interaction Controls**<br />
音声ベースの会話のためのオプションです。`toggle all`リンクをクリックすると、すべてのオプションを一度に有効/無効にできます。

**Auto speech**<br />
アシスタントの応答を合成音声で自動的に読み上げます。

**Easy submit**<br />
Sendボタンをクリックせずに、Enterキーでメッセージを送信します。

**Web検索**<br />
AIが最新情報を検索できるようにします。ツール/関数呼び出しをサポートするモデルで利用可能です。

**Start Session / Continue Session** <br />
新しいチャットを開始するか、現在の会話を続けます。

## 基本情報パネル :id=info-panel

<!-- SCREENSHOT: 基本情報パネル - Monadic Chat Infoセクションに関連ウェブサイトへのリンクとバージョン番号、Current Base Appセクションに選択中のアプリ名と説明が表示されている様子 -->

基本情報パネルには、Monadic Chatのバージョン情報と現在選択中のアプリの情報が表示されます。

**Monadic Chat Info**<br />
関連ウェブサイトへのリンクと現在のバージョンです。

**Current Base App**<br />
選択中のアプリの名前と説明です。

## ステータスパネル :id=status-panel

<!-- SCREENSHOT: ステータスパネル - Monadic Chat Statusセクションに現在の会話状態、Model Selectedに選択中のモデル名、Model Chat Statsにメッセージ数とトークン数がリアルタイムで表示されている様子 -->

ステータスパネルには、現在の会話状態、選択中のモデル、メッセージ数とトークン数が表示されます。

**Monadic Chat Status**<br />
現在の会話の状態をリアルタイムで更新します。

**Model Selected**<br />
現在選択されているモデルです。

**Model Chat Stats**<br />
現在のセッションのメッセージ数とトークン数です。

## セッション表示パネル :id=session-panel

<!-- SCREENSHOT: セッション表示パネル - Reset、Settings、Import、Export、PDF出力の各ボタンが縦に配置されている様子 -->

セッション表示パネルには、会話の管理とデータの入出力を行うためのボタンが配置されています。

**リセット（Reset Conversation）**<br />
`Reset`ボタンをクリックすると、現在の会話をクリアし、パラメーターをデフォルトに戻しながら、アプリ選択を維持します。同じアプリで新しくやり直すことができます。すべての保存データを含む完全なリセットを行い、初期のアプリ選択に戻るには、フローティングツールバーの**リセット（Reset All）**ボタンを使用してください（内部ブラウザモードのみ）。

**Settings**<br />
システム設定パネルに戻ります。会話に戻るには`Continue Session`をクリックします。

**Import**<br />
外部JSONファイルから会話データを読み込みます。

**Export**<br />
現在の会話を外部JSONファイルに保存します。

**PDF出力**<br />
現在の会話をシンタックスハイライトと書式設定付きのPDFファイルとして保存します。

## 音声設定パネル :id=speech-settings-panel

<!-- SCREENSHOT: 音声設定パネル - Speech-to-Text Model、Text-to-Speech Provider、Text-to-Speech Voice、TTS Speedの各設定項目がドロップダウンとスライダーで表示されている様子 -->

音声設定パネルでは、音声認識と音声合成の設定を行うことができます。

!> 音声機能を使用するには、Google Chrome、Microsoft Edge、またはSafariブラウザを使用する必要があります。

**Speech-to-Text Model**<br />
音声認識に使用するモデルを選択します。OpenAIおよびGeminiのモデルが利用可能です。

**Text-to-Speech Provider**<br />
音声合成のプロバイダーを選択します（OpenAI、ElevenLabs、Gemini、Web Speech API）。

**Text-to-Speech Voice**<br />
音声合成に使用する声を選択します。利用可能な声は選択したプロバイダーに依存します。

**TTS Speed**<br />
音声合成の再生速度を調整します（0.7～1.2）。

## PDFデータベース表示パネル :id=pdf-database-display-panel

<!-- SCREENSHOT: PDFデータベース表示パネル - Uploaded PDFセクションにアップロード済みPDFファイルのリストと各ファイル名の右側にゴミ箱アイコンが表示されている様子 -->

PDFデータベース表示パネルには、アップロード済みのPDFファイルのリストが表示されます。

?> このパネルはPDF読み込み機能を備えたアプリを選択しているときだけ表示されます。

**Uploaded PDF**<br />
ここには、`Import PDF`ボタンをクリックしてアップロードしたPDFのリストが表示されます。PDFをアップロードする際に、ファイルに個別の表示名を付けることができます。指定しない場合はオリジナルのファイル名が使用されます。複数のPDFファイルをアップロードすることが可能です。PDFファイル表示名の右側のゴミ箱アイコンをクリックするとそのPDFファイルの内容が破棄されます。

!> **ローカルストレージ（PGVector）を使用している場合**: Monadic Chatをアップデートしたり、コンテナを再構築したりする際にはデータベースが破棄される可能性がありますので、後でリストアするために`Export Document DB`機能でデータをエクスポートしてください。詳細は[PDFストレージモード](./pdf_storage.md)を参照してください。

## AIユーザー機能 :id=ai-user-feature

AIユーザー機能は、AIが会話の中でユーザーの応答をシミュレートして生成する機能です。AIがユーザーの役割を演じ、会話の文脈に基づいてフォローアップメッセージを作成することで、自動的な会話の継続が可能になります。

### 仕組み

メッセージ入力エリアの**AIユーザー**ボタン（ロボットアイコン）をクリックすると、選択したAIプロバイダーがユーザーとしての応答を生成します。AIは直近の会話履歴を分析し、人間のユーザーが発する可能性のある自然なフォローアップの質問やコメントを生成します。

### 設定

**AI User Provider**<br />
シミュレートされたユーザー応答を生成するAIプロバイダーを選択します。これはメインの会話で使用するAIプロバイダーとは異なるものを選択できます。利用可能なプロバイダーは、設定済みのAPIキーに依存します：
- OpenAI
- Claude（Anthropic）
- Gemini（Google）
- Mistral
- Cohere
- Perplexity
- Grok（xAI）
- DeepSeek

**Initial Prompt for AI-User**<br />
AIがユーザー応答を生成する際のガイドとなるシステムプロンプトをカスタマイズできます。シミュレートされたユーザーの性格、注目する分野、応答スタイルを調整するために変更できます。

### ユースケース

- **ハンズフリー会話**: タイピングなしで会話を続行、マルチタスク中に便利
- **探索**: AIにフォローアップの質問を自動生成させてトピックを探索
- **テスト**: アシスタントがさまざまなユーザー入力をどのように処理するかをテスト
- **学習**: あるトピックについてAIがどのように自然に会話を続けるかを観察

### ヒント

- AIユーザーは応答生成時に直近5件のメッセージ履歴を考慮します
- 最良の結果を得るには、AIユーザーを使用する前に明確なトピックまたは質問から始めてください
- AIユーザーを連続して複数回使用することで、自動化された長い会話を作成できます
- 生成されたメッセージは入力フィールドに表示されるため、送信前に確認・編集できます
