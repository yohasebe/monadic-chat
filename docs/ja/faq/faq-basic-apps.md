# FAQ: 基本アプリ

**Q**: プログラミングなしで、簡単に基本アプリを拡張する方法はありますか？

**A**: はい、適当な基本アプリを選択した後、Web UI上でシステムプロンプトなどの設定を自由に変更することができます。また、変更した状態でセッションをエクスポートすることで、必要な時に同じ状態を呼び出すことができます。

![](../assets/images/monadic-chat-session.png ':size=400')

**Q**: `Code Interpreter`アプリと`Coding Assistant`と`Jupyter Notebook`アプリの違いは何ですか？

**A**: `Code Interpreter`アプリは、Pythonコンテナ上のPython処理系を利用してPythonスクリプトを実行するアプリです。AIエージェントにPythonコードを書いてもらうだけでなく、実際に実行して結果を得ることができます。また、Pythonスクリプト以外にも、CSVファイル、Microsoft Officeファイル、オーディオファイル（MP3, WAV）を読み込んで処理することができます。

`Coding Assistant`アプリは、様々なプログラム（Python, Ruby, JavaScript, etc.）の作成を支援するための機能を提供します。AIエージェントにコードを実行させることはできませんが、ソースコードを提供して、問題点の修正を依頼したり、機能の追加を依頼したりすることができます。

トークン数には制限がありますが、ソースコードをキャッシュして、次々と修正を依頼することが可能です。`Coding Assistant`アプリでは、`prompt caching`（AnthropicとOpenAIモデル）と`predicted outputs`（Open AIモデル）の機能を利用して、効率的に修正を依頼する方法を提供しています

`Jupyter Notebook`アプリは、JupyterLabを利用して、Jupyter Notebookのセルを記述・実行するアプリです。AIエージェントにセルに入力すべきコードを考えてもらうだけでなく、共有フォルダ内にノートブック（`ipynb`ファイル）を作成して、次々とセルを追加・実行させることができます。ライブラリのチュートリアルを作成したり、プログラミング教育用のノートブックを作成したりする際の支援ツールとして利用できます。

**Q**: サーバーモードでMonadic Chatを使用するにはどうすればよいですか？

**A**: Monadic Chatをサーバーモード（分散モード）で実行するには：

1. アプリケーションの歯車アイコンをクリックして設定パネルを開きます
2. 「動作モード」セクションで、ドロップダウンメニューから「サーバーモード」を選択します
3. 「保存」をクリックして変更を適用します
4. アプリケーションを再起動します

このモードでは、JupyterノートブックのURLやその他のサービスはサーバーの外部IPアドレスを使用し、クライアントはWebブラウザを介してサーバーに接続できます。

詳細については、[分散モードアーキテクチャ](../docker-integration/basic-architecture.md#分散モードアーキテクチャ)のドキュメントを参照してください。

**Q**: 新しいバージョンをインストールするとどうなりますか？

**A**: 新しいバージョンをインストールすると、APIトークンなどのユーザー設定は保持されます。ただし、アプリケーションの変更に応じてDockerコンテナが再構築される場合があります。Dockerfileや関連ファイルに変更がある場合は、すべてのコンテナが完全に再構築されます。それ以外の場合は、Rubyコンテナのみが再構築され、更新時間を節約できます。

**Q**: Dockerが実行中なのにアプリが起動しない理由は？

**A**: 以下を確認してください：

1. Docker Desktopが実行中であることを確認します。
2. 必要なポート（3330、3000、8889）が他のアプリケーションで既に使用されていないことを確認します。
3. コンソール出力にエラーメッセージがないか確認してください。
4. アプリケーションを再起動するか、コンソールからコンテナを再構築してみてください。

**Q**: Monadic Chatをオフラインで使用できますか？

**A**: いいえ、Monadic Chatは言語モデルAPIと通信するためにインターネットアクセスが必要です。アプリケーション自体はローカルで実行されますが、AI機能はオンラインサービスに依存しています。

**Q**: アプリを初期状態にリセットするにはどうすればよいですか？

**A**: アプリを初期状態にリセットするには：

1. Webインターフェイスの「リセット」ボタンをクリックします。
2. これにより、現在の会話履歴がクリアされます。

これは共有フォルダに保存されたファイルや設定をリセットするものではありません。

**Q**: 複数の会話を並行して行うことはできますか？

**A**: 現在、Monadic Chatは一度に1つの会話のみをサポートしています。ただし、会話を保存およびエクスポートし、異なるアプリケーション間で切り替えて異なるトピックで作業することができます。

**Q**: Code Interpreterでコード実行が繰り返し失敗する場合はどうなりますか？

**A**: Code Interpreterアプリには、無限の再試行ループを防ぐための自動エラーハンドリングが含まれています。コード実行で繰り返しエラーが発生した場合：

1. アプリは適切な回数の試行後に自動的に再試行を停止します
2. 問題を示すエラーメッセージが表示されます
3. AIはコードの修正方法または代替アプローチの提案を行います

これにより、持続的なエラーに遭遇した際にアプリが無限ループに陥ることを防ぎます。

**Q**: matplotlibのプロットで日本語テキストを表示するには？

**A**: Pythonコンテナには日本語フォントサポートが組み込まれています。matplotlibを使用する際：

- Noto Sans CJK JPフォントが自動的に設定されます
- 追加の設定なしでプロットに日本語テキストが正しく表示されます
- 設定は`/monadic/matplotlibrc`ファイルで管理されています
- 共有フォルダに独自の`matplotlibrc`ファイルを作成してフォント設定をカスタマイズできます

正しく動作するコード例：
```python
import matplotlib.pyplot as plt
plt.plot([1, 2, 3], [1, 4, 9])
plt.title('日本語のタイトル')
plt.xlabel('横軸')
plt.ylabel('縦軸')
plt.show()
```

**Q**: Jupyter NotebookアプリでJupyterが起動しないのはなぜですか？

**A**: Jupyter Notebookが起動しない場合、コマンド実行の問題が原因の可能性があります。以下を確認してください：

1. Pythonコンテナが実行中であることを確認（コンソールでコンテナの状態を確認）
2. コンソールにアクセスして「Start JupyterLab」を実行し、手動でJupyterLabを起動してみる
3. ポート8889が使用可能で、他のアプリケーションによってブロックされていないことを確認
4. ローカル開発モードを使用している場合、Rubyコンテナのパスが正しく設定されていることを確認

アプリは`run_jupyter`関数を使用すると自動的にJupyterLabを起動するはずです。

**Q**: テキスト読み上げ（TTS）が「command not found」エラーで失敗するのはなぜですか？

**A**: これはローカル開発モードで実行している場合に発生する可能性があります。この問題は通常、以下の理由で発生します：

1. Rubyコンテナが停止している時にスクリプトパスが適切に設定されていない
2. TTSスクリプトがPATHに含まれる必要のあるサブディレクトリに配置されている

解決方法：
- すべてのコンテナが正常に実行されていることを確認する、または
- ローカルで開発している場合、システムは自動的に`cli_tools`、`utilities`、その他のサブディレクトリのスクリプトに対して正しいパスを設定します