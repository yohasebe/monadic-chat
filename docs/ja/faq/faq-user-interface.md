# FAQ：ユーザーインターフェイス

##### Q: Webインターフェイス上の各メッセージの右上にあるボタンとアイコンの役割を説明してください。 :id=message-buttons-explanation

**A**: それぞれのボタンとアイコンの役割は以下の通りです。

![](../assets/images/message-buttons.png ':size=600')

- **Copy**<br />メッセージのテキストをクリップボードにコピーします。
- **Play**<br />メッセージのテキストを音声合成して再生します。
- **Stop**<br />合成音声の再生を停止します。
- **Delete**<br />ダイアログが開き、`Delete this message and below`（このメッセージと下のメッセージを削除）、`Delete this message only`（このメッセージのみを削除）、または `Cancel`（キャンセル）のオプションから選択できます。最初のオプションは選択したメッセージと会話内でそれ以降に表示されるすべてのメッセージを削除しますが、特定のケースでは便利ですが注意して使用する必要があります。`Delete this message only`オプションも注意して使用する必要があります。一部のAPIプロバイダー（Perplexityなど）では、ユーザーとアシスタントのメッセージが交互になっている必要があり、この交互パターンが崩れるとAPIエラーが発生する可能性があります。

?> **注意**: メッセージが会話の最後のアシスタントまたはシステムメッセージである場合、`Delete this message only`と`Cancel`オプションのみが表示されます。
- **Edit**<br />メッセージを編集できます。ほとんどのメッセージでは、このボタンをクリックするとチャットインターフェイス上に直接インラインテキストエディタが表示され、`Save`と`Cancel`ボタンが付きます。ただし、メッセージが会話の最後のメッセージである場合（ロールに関係なく）、`Edit`をクリックすると、そのテキストが自動的にメインのメッセージ入力エリアに移動し、セレクターで適切なロールが設定され、元のメッセージが削除されるため、すばやく修正して再送信できます。他のメッセージについては、編集されたメッセージは会話内の元の位置を維持し、後続のメッセージも保持されます。
- **Active/Inactive**<br />メッセージがアクティブなときはグリーンになります。

?> メッセージのアクティブ／インアクティブの状態は、webインターフェイス上でのコンテクストサイズ設定と最大トークン数の設定に応じて変化します。アクティブなメッセージは、APIを通じてLLMに送信されるコンテキストの一部として使用されます。

---

##### Q: Monadic Chat Statsに表示されるトークン数はどのように計算されますか？ :id=token-count-calculation


**A**: Pythonコンテナ上にインストールされた[tiktoken](https://github.com/openai/tiktoken)を用いて計算しています。選択されているモデルにかかわらず `o200k_base` エンコーディングを用いているため、GPT-4系列以外のモデルを選択している場合は必ずしも正確な値になりません。トークン数は近似値としてお考えください。

---

##### Q: メッセージ入力ボックスの上にある`Role`セレクタにはどういう役割がありますか？ :id=role-selector-function

**A**: それぞれ次の役割があります。

![](../assets/images/role-selector.png ':size=400')

- **User**<br />通常はこれを選択します。ユーザーとしてメッセージを入力し、直ちにAIエージェントに送信してレスポンスを求めます。
- **User (to add to past messages)**<br />ユーザーとしてメッセージを入力しますが、コンテクストの一部として過去のメッセージに追加する目的で使用します。AIエージェントからの直接的なレスポンスを求めません。
- **Assistant (to add to past messages)**<br />AIアシスタントからのメッセージとしてテキストを追加します。コンテクストの一部として過去のメッセージに追加する目的で使用します。
- **System (to provide additional direction)**<br />追加のシステム・プロンプトを提供するために使用します。

---

##### Q: ブラウザで `localhost:4567` にアクセスすると「保護されていない通信」と表示されますが、セキュリティ上の問題はありませんか？ :id=localhost-security-warning

**A**: このアプリケーションはサーバーが `localhost` (`127.0.0.1`) でのみ接続を受け付けるため、安全に動作します。ブラウザに表示される「保護されていない通信」の警告は、このローカル接続では問題ありません。
