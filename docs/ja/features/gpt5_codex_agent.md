# GPT-5-Codexエージェント統合

## 概要

GPT-5-Codexは、コード生成と複雑なプログラミングタスクに最適化された特化型OpenAIモデルです。Monadic Chatは、複数のOpenAIベースアプリケーションから呼び出すことができるエージェントモデルとしてGPT-5-Codexを統合しています。

## サポートされているアプリケーション

以下のOpenAIアプリケーションは、複雑なコーディングタスクにGPT-5-Codexを活用できます：

### 1. Coding Assistant
ファイルI/O機能を維持しながら、複雑なコーディングタスクをGPT-5-Codexに委任：
- 完全なアプリケーションの作成
- コードのリファクタリングと最適化
- デバッグとエラー修正
- パフォーマンス改善

### 2. Code Interpreter
Pythonコード生成にGPT-5-Codexを使用：
- 複雑なアルゴリズム実装
- データ分析スクリプト
- 可視化コード
- エラー診断と修正

### 3. Jupyter Notebook
ノートブックセル生成にGPT-5-Codexを活用：
- データ分析パイプライン
- 機械学習ワークフロー
- 科学計算コード
- ノートブックの最適化

### 4. Research Assistant
分析コード生成にGPT-5-Codexを採用：
- データ収集スクリプト
- 統計分析コード
- APIクライアント実装
- 研究データ処理

## 動作の仕組み

1. **ユーザーインタラクション**: メインモデル（GPT-5）とやり取り
2. **タスク委任**: メインモデルが複雑なコーディングタスクを識別すると、自動的にGPT-5-Codexに委任
3. **コード生成**: GPT-5-Codexがタスクに基づいて高品質なコードを生成
4. **結果の統合**: メインモデルがコードを受け取り、ワークフローに統合

## 要件

- GPT-5-Codexへのアクセス権を持つOpenAI APIキー
- サポートされているアプリケーションで自動的に利用可能

## 使用例

Coding AssistantまたはCode Interpreterを使用する際は、コーディングタスクを説明するだけです。アプリケーションが最適な結果を得るために、いつGPT-5-Codexを使用するかを自動的に判断します：

```
ユーザー: "複数のサブプロットを持つ複雑なデータ可視化を作成してください"
アシスタント: [複雑なmatplotlibコードのためにGPT-5-Codexに自動委任]
```

## 技術的な注意事項

- GPT-5-Codexは適応型推論を備えたResponses APIを使用
- 最大コンテキストウィンドウ: 400,000トークン
- 最大出力: 128,000トークン
- 温度やサンプリングパラメータなし（決定論的生成を使用）
- デフォルトタイムアウト: 300秒（`GPT5_CODEX_TIMEOUT`環境変数で設定可能）
- 委任前の自動アクセスチェック
- 互換性のためのメッセージフォーマット抽象化
- 長時間実行操作中は毎分進捗更新を表示

## トラブルシューティング

GPT-5-Codexで問題が発生した場合：
1. **アクセス拒否**: OpenAI APIキーがGPT-5-Codexモデルへのアクセス権を持っていることを確認
2. **タイムアウトエラー**: 長時間実行タスクの場合、`GPT5_CODEX_TIMEOUT`環境変数でタイムアウトを増やす
3. **空の応答**: 複雑なタスクをより小さく、より具体的な部分に分割してみる
4. **アプリケーションがサポートされていない**: Coding Assistant、Code Interpreter、Jupyter Notebook、またはResearch Assistantを使用していることを確認

技術的な実装の詳細については、開発者は内部ドキュメントを参照できます。
